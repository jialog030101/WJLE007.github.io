<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>CPP | JiaLog</title>
<meta name="keywords" content="">
<meta name="description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod">
<meta name="author" content="Theme PaperMod">
<link rel="canonical" href="https://jialog.top/tags/cpp/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.6da9a63d25a9608bca2f7f907a030e887a7dd3c3f3918e4cc113129361414bda.css" integrity="sha256-bammPSWpYIvKL3&#43;QegMOiHp908PzkY5MwRMSk2FBS9o=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jialog.top/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://jialog.top/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jialog.top/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://jialog.top/apple-touch-icon.png">
<link rel="mask-icon" href="https://jialog.top/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://jialog.top/tags/cpp/index.xml">
<link rel="alternate" hreflang="en" href="https://jialog.top/tags/cpp/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://jialog.top/tags/cpp/">
  <meta property="og:site_name" content="JiaLog">
  <meta property="og:title" content="CPP">
  <meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">
      <meta property="og:image" content="https://jialog.top/images/papermod-cover.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://jialog.top/images/papermod-cover.png">
<meta name="twitter:title" content="CPP">
<meta name="twitter:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod">

</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jialog.top/" accesskey="h" title="JiaLog (Alt + H)">JiaLog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jialog.top/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://jialog.top/posts/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://jialog.top/essay/" title="Essay">
                    <span>Essay</span>
                </a>
            </li>
            <li>
                <a href="https://jialog.top/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://jialog.top/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://jialog.top/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://jialog.top/">Home</a>&nbsp;Â»&nbsp;<a href="https://jialog.top/tags/">Tags</a></div>
  <h1>
    CPP
    <a href="/tags/cpp/index.xml" title="RSS" aria-label="RSS">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Lab1 Xv6 &amp;&amp; system calls
    </h2>
  </header>
  <div class="entry-content">
    <p>Using gdb å¹³æ—¶æˆ‘ä»¬ç”¨çš„è°ƒè¯•å·¥å…·å…¶å®éƒ½æ˜¯å›¾å½¢åŒ–åçš„gdbï¼Œä½¿ç”¨èµ·æ¥éå¸¸çš„æ–¹ä¾¿ï¼Œä½†æ˜¯ç†Ÿæ‚‰åŸç”Ÿçš„gdbä¼šä½¿æˆ‘ä»¬çš„æ•ˆç‡è¿›ä¸€æ­¥æå‡ã€‚æˆ‘è®¤ä¸ºå­¦ä¹ å¥½ç”¨gdbè°ƒè¯•æ˜¯ä¸€é¡¹éå¸¸é‡è¦çš„æŠ€èƒ½ã€‚
ç¼–è¯‘å¹¶å¯åŠ¨ ==make qemu-gdb==
ä½¿ç”¨ä¸Šè¿°å‘½ä»¤ç¼–è¯‘é¡¹ç›®å¹¶ä¸”ç›´æ¥ä»¥è°ƒè¯•æ¨¡å¼å¯åŠ¨ã€‚ä½†æ˜¯è¿™ä¸ªé¡¹ç›®å¯åŠ¨çš„å…¶å®æ˜¯åœ¨æœ¬åœ°çš„ä¸€ä¸ªè¿œç¨‹gdbï¼Œé€šè¿‡å¦ä¸€ä¸ªçª—å£è¿›è¡Œè°ƒè¯•ã€‚ ä¸‹é¢æœ‰å‡ ä¸ªå…³äºç³»ç»Ÿè°ƒç”¨çš„å°é—®é¢˜
Looking at the backtrace output, which function calledÂ syscall?
æ˜¾ç„¶æ˜¯usertrapï¼ˆï¼‰
What is the value ofÂ p-&gt;trapframe-&gt;a7Â and what does that value represent? (Hint: lookÂ user/initcode.S, the first user program xv6 starts.) é€šè¿‡æç¤ºæ‰¾åˆ°trapframeçš„åœ°å€ï¼Œåœ¨kernel/proc.hä¸­æ‰¾åˆ°a7å¯„å­˜å™¨å¯¹åº”çš„åç§»åœ°å€ã€‚ æŠŠ168æ¢ç®—æˆ16è¿›åˆ¶ å°è¯•ç€æ‰“å°0x87f560a8 è¿™ä¸ªå°±æ˜¯å¯„å­˜å™¨a7çš„å€¼ã€‚å…¶ä»£è¡¨çš„å…·ä½“å«ä¹‰é€šè¿‡æ‰€ç»™çš„æç¤ºåˆ°å¯¹åº”æ–‡ä»¶ä¸­æŸ¥æ‰¾ä¹‹åä¹Ÿæ˜¯ååˆ†çš„æ˜äº†ã€‚ åº”è¯¥å°±æ˜¯ç³»ç»Ÿçš„è°ƒç”¨å·ã€‚
What was the previous mode that the CPU was in?
sppä½è¡¨ç¤ºå…¶åœ¨ä»€ä¹ˆçŠ¶æ€ã€‚ é€šè¿‡å›¾ç¤ºå¾—å‡ºï¼Œsppåœ¨äºŒè¿›åˆ¶çš„ç¬¬8bit. ç”±å›¾å¯çŸ¥8bitæ˜¯0ï¼Œæ‰€ä»¥ä¹‹å‰æ˜¯ç”¨æˆ·çŠ¶æ€ ã€‚ System call tracing Attack xv6 è¿™ä¸ªtaskä¸»è¦æ˜¯åˆ©ç”¨xv6æ•…æ„ç•™ä¸‹çš„bugç„¶åè·å–åˆ°é”€æ¯å†…å­˜ä½†æ˜¯ä¿ç•™äº†è„é¡µçš„æ•°æ®ã€‚ç„¶åé€šè¿‡ä¸€äº›æ¯”è¾ƒhackçš„æ‰‹æ®µæŠŠå­—æ®µç»™æ‰¾å‡ºæ¥ã€‚
pageç»„æˆ ä¸Šå›¾æ˜¯ä¸€ä¸ªç®€åŒ–çš„é€»è¾‘é¡µè¡¨ï¼Œä¸‹ä¸€ä¸ªå®éªŒä¹Ÿä¼šç”¨åˆ°ï¼Œè¿™é‡Œç†é¡ºä¸€ä¸‹é€»è¾‘æœ‰åˆ©äºåˆ†æä»£ç çš„ç»„æˆã€‚ ä¸Šå›¾æ˜¯åœ°å€è½¬åŒ–çš„ç»†èŠ‚ã€‚ é¡µè¡¨é¡¹ï¼ˆPTEï¼‰åŒ…å«æ ‡å¿—ä½ï¼Œå‘Šè¯‰ç¡¬ä»¶åº”è¯¥å¦‚ä½•ä½¿ç”¨è¿™äº›è™šæ‹Ÿåœ°å€ã€‚ è¿™äº›ç›¸å…³ä½çš„å®šä¹‰éƒ½åœ¨(kernel/riscv.h)ä¸­
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-02-25 00:00:00 +0000 UTC'>February 25, 2025</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to Lab1 Xv6 && system calls" href="https://jialog.top/posts/os/lab1-xv6--system-calls/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">xv6-ç¯å¢ƒæ­å»º
    </h2>
  </header>
  <div class="entry-content">
    <p>xv6 å¯åŠ¨ï¼ ä¸‡äº‹å¼€å¤´éš¾ï¼ è¿™æ˜¯æˆ‘æ‰€ç”¨çš„å¼€å‘ç¯å¢ƒï¼ŒKubuntu&#43;VsCodeï¼Œè¿™æ ·çš„ç¯å¢ƒå¯¹æˆ‘æ¥è¯´æ˜¯æ¯”è¾ƒèˆ’æœçš„ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒå¥½ç”¨çš„åœ¨å®é™…ä½¿ç”¨çš„è¿‡ç¨‹ä¸­æˆ‘æ²¡æ„Ÿè§‰ubuntuå’Œkubuntuæœ‰ä»»ä½•çš„åŒºåˆ«ï¼Œåæ­£æˆ‘ä¹Ÿä¸åœ¨ä¹æ¡Œé¢ï¼Œæˆ‘åªåœ¨ç»ˆç«¯é‡Œç”¨ã€‚ ç”¨debianç³»çš„æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯è½¯ä»¶ç”Ÿæ€çœŸçš„å¾ˆä¸é”™ï¼Œå¯åˆ«æ˜¯æœ€æ–°çš„ï¼Œç‰ˆæœ¬ä»€ä¹ˆçš„ç›´æ¥ç”¨aptéƒ½èƒ½ç›´æ¥è·å¾—ï¼Œè™½ç„¶ä¸æƒ³archwikié‚£æ ·å®Œå–„ï¼Œä½†æ˜¯Googleä¸€ä¸‹åŸºæœ¬ä¸Šé—®é¢˜ä¹Ÿéƒ½èƒ½è§£å†³ã€‚
ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„å·¥å…· bear æˆ‘ç›¸ä¿¡æœ‰å¾ˆå¤šåŒå­¦åœ¨ç”¨vscodeçœ‹é¡¹ç›®ä»£ç çš„æ—¶å€™ä¼šå‘ç°ï¼Œå…¨æ˜¯çº¢çº¿ï¼Œé¡¹ç›®å˜å¾—æ ¹æœ¬å°±ä¸å¯è¯»ï¼Œæ— æ³•è·³è½¬ï¼Œæ›´æ— æ³•è·å¾—ä¾èµ–å…³ç³»ï¼Œåªèƒ½æŠŠvscodeå½“ä¸€ä¸ªèƒ½ç”¨é¼ æ ‡çš„é˜‰å‰²ç‰ˆçš„vimç”¨ã€‚æˆ‘ä»¬å¯ä»¥è·å–ç¼–è¯‘çš„å‘½ä»¤è¡Œï¼Œç„¶åè®©vscodeçŸ¥é“ç„¶åæŠŠè¿™äº›æŠ¥é”™ç»™æ¶ˆæ‰ 1.make -nB å½“ç„¶å¯ä»¥æ‰‹åŠ¨è·å–ç¼–è¯‘é€‰é¡¹ï¼Œä½†æ˜¯è¿™æ ·ä¹Ÿæ˜¯æ¯”è¾ƒå¤æ‚çš„è€Œä¸”ååˆ†çš„ä½æ•ˆ 2.bear å–„äºä½¿ç”¨å·¥å…·ï¼Œå›å­æ€§éå¼‚ä¹Ÿï¼Œå–„å‡äºç‰©ä¹Ÿã€‚ç”¨bearæŠŠç¼–è¯‘è¿‡ç¨‹åŒ…èµ·æ¥å°±èƒ½è‡ªåŠ¨è·å–ç¼–è¯‘é€‰é¡¹ã€‚
å¦‚ä½•åœ¨vscodeä¸­debug ==å®˜æ–¹éGUIç•Œé¢==
make qemu-gdb ä¹‹åç³»ç»Ÿä¼šåœ¨æœ¬åœ°å¯åŠ¨ä¸€ä¸ªgdbï¼Œå¦èµ·ä¸€ä¸ªç»ˆç«¯ä½¿ç”¨gdbè¿æ¥ã€‚ åˆ°è¿™å°±è¯´æ˜gdbå¯åŠ¨æˆåŠŸäº†ï¼Œä½†æ˜¯åé¢ä¼šæœ‰ä¸€ä¸ªå°å°çš„å‘ã€‚
Type â€œapropos wordâ€ to search for commands related to â€œwordâ€. warning: File â€œ/home/learn_code/xv6-labs-2024/.gdbinitâ€ auto-loading has been declined by your `auto-load safe-pathâ€™ set to â€œ$debugdir:$datadir/auto-load:/home/learn_code/xv6-riscv/.gdbinitâ€. To enable execution of this file add add-auto-load-safe-path /home/learn_code/xv6-labs-2024/.gdbinit line to your configuration file â€œ/root/.config/gdb/gdbinitâ€. To completely disable this security protection add set auto-load safe-path / line to your configuration file â€œ/root/.config/gdb/gdbinitâ€.
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-01-04 00:00:00 +0000 UTC'>January 4, 2025</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to xv6-ç¯å¢ƒæ­å»º" href="https://jialog.top/posts/os/xv6%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E4%BB%A3%E7%A0%81%E5%AF%BC%E8%AF%BB/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Effective Modern C&#43;&#43; ç¬”è®°
    </h2>
  </header>
  <div class="entry-content">
    <p>auto åœ¨æ¦‚å¿µä¸Šautoå·²ç»æç®€äº†ï¼Œä½†æ˜¯å®é™…ä¸Šä»ç„¶è¦å¾®å¦™è®¸å¤šã€‚å®ƒå¯ä»¥èŠ‚çº¦å£°æ˜ç±»å‹ï¼Œä¹Ÿå¯ä»¥é¿å…è®¸å¤šæ‰‹åŠ¨ç±»å‹çš„æ­£ç¡®æ€§å’Œå£°æ˜é—®é¢˜ã€‚ä½†æ˜¯ä»ç»“æœçš„è§’åº¦æ¥è¯´ï¼Œå°½ç®¡autoå¾ˆåŠªåŠ›åœ¨åšäº‹äº†ï¼Œä½†æ˜¯ä»ç„¶å¯èƒ½æ˜¯é”™è¯¯çš„ã€‚å¦‚æœå‡ºç°è¿™ç§æƒ…å†µæˆ‘ä»¬è¦çŸ¥é“å¦‚ä½•å»å¼•å¯¼autoè®©ä»–æˆä¸ºæ­£ç¡®çš„ç±»å‹ï¼Œå› ä¸ºé€€å›ä½¿ç”¨æ‰‹åŠ¨å£°æ˜ç±»å‹ä»ç„¶æ˜¯ä¸‹ä¸‹ç­–ã€‚
æ¥ä¸‹æ¥çš„å†…å®¹ä¼šæ¶µç›–autoçš„æ‰€æœ‰ç»†èŠ‚
Item 5: Prefer auto to explicit type declarations. ä¸ä»…å¯ä»¥é¿å…å‡ºç°ä¸ºåˆå§‹åŒ–çš„å˜é‡ï¼Œé¿å…å•°å—¦åˆç¹æ‚çš„ç±»å‹å£°æ˜ï¼Œèƒ½ç›´æ¥æŒæœ‰é—­åŒ…ï¼Œè¿˜å¯ä»¥é¿å…ä¸€äº›å› ä¸ºâ€œç±»å‹æ·å¾„â€å‡ºç°çš„é—®é¢˜ã€‚ eg1.
æœ‰ä¸€äº›ç¨‹åºå‘˜ä¼šå¯¹ç±»å‹å‘ç”Ÿè¯¯åˆ¤ï¼Œåˆ°æ—¶ç”¨èŒƒå›´è¾ƒå°çš„ç±»å‹åœ¨32ä½æœºå™¨ä¸Šèƒ½å¤Ÿè¿è¡Œä½†æ˜¯åœ¨64ä½æœºå™¨ä¸Šå‘ç”Ÿäº†æ”¹å˜ï¼Œå¯¼è‡´ç¨‹åºåœ¨ç§»æ¤çš„æ—¶å€™å‡ºç°é—®é¢˜ã€‚ eg2. ä¸Šè¿°ä»£ç çœ‹èµ·æ¥æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å½“å®é™…è¿è¡Œä¹‹åå¹¶æ²¡æœ‰å¯¹å“ˆå¸Œè¡¨mè¿›è¡Œæ“ä½œã€‚åŸå› åœ¨äºå“ˆå¸Œè¡¨ä¸­çš„kayå€¼æ˜¯constç±»å‹çš„ï¼Œæ‰‹åŠ¨å£°æ˜çš„ç±»å‹ä¸ä¸€æ ·çš„è¯ç¼–è¯‘å™¨ä¼šè¿›è¡Œä¸€ä¸ªç¥å¥‡çš„æ“ä½œï¼Œå®ƒä¼šè®²mä¸­çš„å†…å®¹å¤åˆ¶æˆä¸ºä¸´æ—¶å˜é‡å°†keyçš„ç±»å‹æ”¹ä¸ºå’Œå£°æ˜ä¸€è‡´çš„ï¼Œå†å°†pç»‘å®šåˆ°ä¸´æ—¶å˜é‡ä¸Šã€‚
Summary autoè¯´åˆ°åº•åªæ˜¯ä¸€ä¸ªå¯é€‰é¡¹ç½¢äº†ï¼Œä¸æ˜¯å¿…é€‰é¡¹ï¼Œå¦‚æœä½ è§‰å¾—ä½ çš„é¡¹ç›®ä½¿ç”¨æ˜¾å¼çš„å£°æ˜èƒ½å¤Ÿä½¿å¾—é¡¹ç›®å˜å¾—æ›´åŠ çš„å¯è¯»å’Œé«˜æ•ˆï¼Œå½“ç„¶å¯ä»¥ç»§ç»­ä½¿ç”¨ã€‚ä½†æ˜¯c&#43;&#43;å¼•å…¥autoå¹¶ä¸æ˜¯ä¸€ä¸ªå¤šæ–°é²œçš„ä¸œè¥¿ï¼Œåªæ˜¯ä¸€ä¸ªåœ¨å…¶ä»–è¯­è¨€ä¸­è¢«ç§°ä¸ºâ€œç±»å‹æ¨å¯¼â€çš„ä¸œè¥¿ç½¢äº†ã€‚åœ¨å…¶ä»–çš„é™æ€ç±»å‹è¯­è¨€ä¸­ç±»å‹æ¨å¯¼éƒ½æˆ–å¤šæˆ–å°‘å­˜åœ¨ã€‚è€Œä¸”åŠ¨æ€è¯­è¨€è¿˜ä¸ºç±»å‹æ¨å¯¼ç§¯ç´¯äº†å¤§é‡çš„ç»éªŒã€‚è€Œä¸”æ­¤ç±»æŠ€æœ¯å¹¶ä¸ä¼šäºå¤§å‹çš„å·¥ç¨‹é¡¹ç›®äº§ç”Ÿå†²çªã€‚
ä¸€äº›äººè§‰å¾—ç”¨å®Œautoä¹‹åä¼šè®©å˜é‡çš„ç±»å‹å˜å¾—ä¸æ˜¯ä¸€çœ¼å¯ä»¥è¯†åˆ«ï¼Œä½†æ˜¯è¿™ä¸ªé—®é¢˜éšç€ideçš„ä¼˜åŒ–å’Œé€‚é…å·²ç»è¢«è§£å†³çš„ç›¸å½“å®Œç¾äº†ã€‚
äº‹å®ä¸Šæ‰‹åŠ¨å£°æ˜å˜é‡ç»å¸¸æ˜¯åœ¨ç”»è›‡æ·»è¶³ï¼Œæ— è®ºæ˜¯æ­£ç¡®ç‡è¿˜æ˜¯æ•ˆç‡ä¸Šã€‚
Item 6: Use the explicitly typed initializer idiom when auto deduces undesired types. çºµä½¿autoæœ‰ä¸‡èˆ¬å¥½ï¼Œä½†æ˜¯autoä¹Ÿä¼šå‡ºç°æ¨æ–­çš„ç±»å‹å’Œä½ å¿ƒç›®ä¸­æœŸå¾…çš„ä¸ä¸€æ ·çš„æƒ…å†µï¼ˆå½“ç„¶ä¹Ÿä¸å®Œå…¨æ˜¯autoé”™äº†å“¦ğŸ˜€ï¼‰ ä¸‹é¢ä¸¾ä¸€ä¸ªautoæ¨æ–­ä¸ç¬¦åˆé¢„æœŸçš„ä¾‹å­ã€‚
ä¸Šè¿°å£°æ˜äº†ä¸€ä¸ªè¿”å›vector&lt; bool &gt;ç±»å‹çš„å‡½æ•°ï¼Œä½¿ç”¨äº†autoä¹‹åè™½ç„¶ä»ç„¶èƒ½å¤Ÿç›´æ¥è¿›è¡Œç¼–è¯‘å’Œè¿è¡Œä½†æ˜¯ç»“æœå´ä¸æ˜¯æ‰€æƒ³è¦çš„ã€‚
è€Œå‘ç”Ÿè¿™æ ·é”™è¯¯çš„åŸå› æ˜¯ï¼Œåœ¨c&#43;&#43;çš„è®¾è®¡å½“ä¸­å›é¿äº†bitçš„å¼•ç”¨æ‰€ä»¥è¿”å›çš„ä¸æ˜¯bool&amp;ï¼Œå®é™…ä¸Šc&#43;&#43;ä¸­è®¾è®¡äº†ä¸€ä¸ªä»£ç†ç±»æ¥å®Œæˆå‘boolçš„è½¬æ¢æ“ä½œï¼Œè¿™å°±ä¸å±•å¼€ç»†è¯´äº†ï¼Œä½†æ˜¯ä»£ç†ç±»å¹¶ä¸å°‘è§ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„ä¸¤ä¸ªæ™ºèƒ½æŒ‡é’ˆå°±æ˜¯ä¸€ç§ä»£ç†ç±»ã€‚
ä»£ç†ç±»çš„è®¾è®¡åœ¨ä½¿ç”¨çš„æ—¶å€™å°½é‡å°‘çš„å¯¹ç¨‹åºå‘˜æš´éœ²å†…éƒ¨ç»†èŠ‚ï¼Œè¿™äº›ä»£ç†ç±»çš„ä½¿ç”¨å¾€å¾€ä¼šåœ¨æ–‡æ¡£ä¸­æ ‡è¯†å‡ºæ¥ï¼Œå¦‚æœåœ¨æ–‡æ¡£ä¸­æ²¡æœ‰ä½“ç°çš„è¯ï¼Œä¹Ÿé¿å…ä¸äº†åœ¨å¤´æ–‡ä»¶ä¸­æ¼å‡ºä¸€äº›ç ´ç»½ï¼Œæœ€ä¸æµåœ¨debugçš„æ—¶å€™å¯èƒ½ä¹Ÿä¼šå‘è§‰æ˜¯ä½¿ç”¨äº†ä»£ç†ç±»ã€‚
ä½†æ˜¯è¿™äº›éƒ½ä¸é‡è¦äº†ï¼Œç°åœ¨é‡è¦çš„äº‹æ€ä¹ˆæŠŠautoå¼•å¯¼åˆ°æ­£ç¡®çš„é“è·¯ä¸ŠğŸ™ƒã€‚
å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªå¼ºåˆ¶çš„ç±»å‹è½¬æ¢ï¼Œè®©å®ƒå»åˆ°è¯¥å»çš„ä½ç½®ï¼Œè™½ç„¶çœ‹èµ·æ¥æœ‰ç‚¹æ»‘ç¨½ï¼Œç»™äººä¸€ç§å¤´ç—›åŒ»è„šçš„æ„Ÿè§‰ğŸ¤£ã€‚è™½ç„¶åœ¨è¿™äº›æ—¶å€™ä½ ä¹Ÿå¯ä»¥æ”¾å¼ƒä½¿ç”¨autoï¼Œä½†æ˜¯åœ¨è¿™ä¸ªè¸©å‘çš„è¿‡ç¨‹ä¸­ä¸æ˜¯ä¹Ÿæ”¶è·äº†æ–°çš„çŸ¥è¯†ä¹ˆ?ğŸ˜
æ€»ä¹‹è®°ä½ä»¥ä¸‹ä¸¤ç‚¹ éšå½¢çš„ä»£ç†ç±»å¯èƒ½ä¼šè®©autoæ¨æ–­å‡ºé”™è¯¯çš„ç±»å‹ã€‚ æ˜¾å¼çš„ç±»å‹è½¬æ¢å¯ä»¥è®©autoèµ°å‘æ­£ç¡®é“è·¯ã€‚ Moving to Modern C&#43;&#43; æ¥ä¸‹æ¥è¿™ä¸€ç« ä¼šè¯¦ç»†ä»‹ç»ç°ä»£c&#43;&#43;çš„ä¸€äº›ç»†èŠ‚ç‰¹æ€§ã€‚æˆ‘è‡ªå·±ä¼šè®°å½•å‡ ä¸ªæˆ‘è®¤ä¸ºæ¯”è¾ƒå®ç”¨çš„ã€‚å¹¶ä¸æ˜¯å…¨éƒ¨ã€‚
Item 8: Prefer nullptr to 0 and NULL. éå¸¸æ˜¾ç„¶çš„æ˜¯0çš„ç±»å‹æ˜¯intï¼Œä¸æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä½†æ˜¯åœ¨ä¸€ä¸ªæœ¬åº”è¯¥å‡ºç°æŒ‡é’ˆç±»å‹çš„åœ°æ–¹å‡ºç°äº†0ï¼Œç¼–è¯‘å™¨ä¹Ÿä¼šå‹‰å¼ºå§0è§£é‡Šä¸ºç©ºæŒ‡é’ˆï¼Œä½†è¿™æ¯•ç«Ÿæ˜¯ä¸å¾—å·²è€Œä¸ºä¹‹çš„è¡Œä¸ºğŸ™‰ï¼Œ æ€»ä¹‹0æ˜¯intï¼Œä¸æ˜¯æŒ‡é’ˆã€‚
nullptrâ€™s advantage is that it doesnâ€™t have an integral type. To be honest, it doesnâ€™t have a pointer type, either, but you can think of it as a pointer of all types. nullptrâ€™s actual type is std::nullptr_t, and, in a wonderfully circular definition, std::nullptr_t is defined to be the type of nullptr. The type std::nullptr_t implicitly converts to all raw pointer types, and thatâ€™s what makes nullptr act as if it were a pointer of all types.
...</p>
  </div>
  <footer class="entry-footer"><span title='2023-12-09 00:00:00 +0000 UTC'>December 9, 2023</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to Effective Modern C&#43;&#43; ç¬”è®°" href="https://jialog.top/posts/c&#43;&#43;/effective-modern-c&#43;&#43;/"></a>
</article>
    </main>
    
<footer class="footer">
        <span>Â© <a href="https://jialog.top">JiaLog</a> è±«ICPå¤‡2024077894å·-1 è‹å…¬ç½‘å®‰å¤‡32031202000962å· 32031202000962</span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
